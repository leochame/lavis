# ====================================
# Lavis - macOS AI Agent Configuration
# ====================================

spring.application.name=lavis

# Server
server.port=8080

# ====================================
# Gemini API Configuration
# ====================================
gemini.api.key=sk-06f9fbf310994a279d3a5025278fb363
gemini.model=qwen3-omni-flash-2025-12-01
#gemini.api.key=AIzaSyCVxSE_jxbW6dzEc0so9s9ixRHZeFn-OHE
#gemini.model=gemini-3-flash-preview


# ====================================
# Agent Configuration
# ====================================
# 重试配置
agent.retry.max=3
agent.retry.delay.ms=2000
agent.max.tool.iterations=30

# 【关键】工具执行后等待 UI 响应的时间（毫秒）
# 这个时间需要足够长，让屏幕变化完成后再截图
agent.tool.wait.ms=800

# 反思循环配置
reflection.max.iterations=5
reflection.delay.ms=1000

# ====================================
# Micro-Executor Configuration
# ====================================
# 每个步骤的最大修正次数
executor.max.corrections=5
# 单步操作超时时间（秒）
executor.action.timeout.seconds=30
# 工具执行后等待时间（毫秒）
executor.tool.wait.ms=500

# ====================================
# Screenshot Configuration  
# ====================================
# 截图压缩宽度 (降低可减少 token 消耗)
screenshot.target.width=1280
# 截图质量 (0.0-1.0)
screenshot.quality=1.0

# ====================================
# Logging
# ====================================
logging.level.com.lavis=INFO
logging.level.dev.langchain4j=WARN
logging.pattern.console=%d{HH:mm:ss} %clr(%-5level) %cyan(%logger{20}) - %msg%n

# ====================================
# JavaFX
# ====================================
spring.main.allow-bean-definition-overriding=true

# ====================================
# Gemini Computer Use Configuration
# (https://ai.google.dev/gemini-api/docs/computer-use)
# ====================================
# Computer Use 专用模型
gemini.computer.use.model=gemini-2.5-computer-use-preview-10-2025
# 最大迭代次数
gemini.computer.use.max.iterations=30
# 保留最近N轮的截图（减少 token 消耗）
gemini.computer.use.max.screenshots=3
# 默认浏览器
computer.use.default.browser=Google Chrome
# 操作后延迟（毫秒）
computer.use.action.delay.ms=300
